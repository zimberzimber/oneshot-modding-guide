<!DOCTYPE html><html><head>
	<meta charset="utf-8">

	<title>Modifying Scripts</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/base16/atelier-sulphurpool.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

	<style id="custom_style">@font-face {
  font-family: 'Terminus TTF';
  src: url('TerminusTTF.ttf') format('truetype');
}

html,
body {
  height: 100%;
  margin: 0;
  color: #E1E1E1;
}

p {
  white-space: pre-wrap;
  margin-top: 0;
  font-size: 1.5rem;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: white;
  margin-bottom: 0;
}

h1 { font-size: 4rem; }
h2 { font-size: 3rem; }
h3 { font-size: 2.5rem; }
h4 { font-size: 2rem; }

a:link {
  color: #FFFF00;
}

a:visited {
  color: #FFFF00;
}

a:hover {
  color: #FFFF00;
}

a:active {
  color: #FFFF00;
}

pre code.hljs {
  overflow-x: hidden;
  display: inline-block;
}

code {
  background: #202746;
  padding: 0 4px;
  margin: 0 -4px;
}

.sourceCode {
  overflow-y: hidden;
  overflow-x: hidden;
}

div.sourceCode>pre.sourceCode {
  margin-top: 0;
  max-height: 20rem;
  overflow: auto;
}

div.sourceCode {
  overflow-y: hidden;
  overflow-x: hidden;
}

.copy-code-block-button {
  width: 100%;
}


img,
video {
  max-width: 100%;
}

.layout {
  display: flex;
  height: 100%;
}

.side {
  min-width: 240px;
  max-width: 25%;
  background: #4f2b77;
  overflow-y: scroll;
  direction: rtl;
}

.side * {
  direction: ltr;
}

.content {
  width: 100%;
  height: 100%;
  overflow-y: auto;
  background: #34135A;
  padding: 1rem;
  box-sizing: border-box;
}

ul.navtree {
  padding-left: 20px;
  padding-right: 5px;
}

ul li .navtree {
  list-style-type: disc;
}</style>
	<script id="custom_script">
function addCodeBlockCopyButtons() {
	const codeBlocks = document.querySelectorAll("div.sourceCode")
	for (block of codeBlocks) {
		const button = createCodeBlockCopyButton()
		block.prepend(button)
	}
}

function createCodeBlockCopyButton() {
	const b = document.createElement("button")
	b.type = "button"
	b.className = "copy-code-block-button"
	b.title = "Copy"
	b.onclick = copyCodeBlock
	b.innerText = "copy"
	return b
}

function copyCodeBlock(caller) {
	console.log(caller.target.parentNode)
	g = caller.target.parentNode.querySelector("code")
	const content = caller.target.parentNode.querySelector("code").innerText.replace(/\u00a0/g, " ");
	navigator.clipboard.writeText(content)
}

window.onload = () => {
	hljs.highlightAll()
	addCodeBlockCopyButtons()
}</script>
</head>

<body>
	<div class="layout">
		<aside id="navigation_tree" class="side"> <ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/index.html" nav-title="Index">Index</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/for_players.html" nav-title="For Players">For Players</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/things_to_consider.html" nav-title="Things to Consider">Things to Consider</a></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/layers.html" nav-title="Layers">Layers</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/translation.html" nav-title="Translation">Translation</a></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/layers/asset_layer.html" nav-title="Asset Layer">Asset Layer</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/asset_layer/character_sprite_layout.html" nav-title="Character Sprite Layout">Character Sprite Layout</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/asset_layer/light_maps.html" nav-title="Light Maps">Light Maps</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/asset_layer/tileset_layout.html" nav-title="Tileset Layout">Tileset Layout</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/asset_layer/visual_style_guide.html" nav-title="Visual Style Guide">Visual Style Guide</a></li></ul></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer.html" nav-title="Editor Layer">Editor Layer</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/common_text.html" nav-title="Common Text">Common Text</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/init_events.html" nav-title="Init Events">Init Events</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/wide_map_transfers.html" nav-title="Wide Map Transfers">Wide Map Transfers</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/item_combinations.html" nav-title="Item Combinations">Item Combinations</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/fast_travel.html" nav-title="Fast Travel">Fast Travel</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/editor_layer/footstep_sfx.html" nav-title="Footstep SFX">Footstep SFX</a></li></ul></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/layers/script_layer.html" nav-title="Script Layer">Script Layer</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/script_layer/modifying_scripts.html" nav-title="Modifying Scripts" selected="true">Modifying Scripts</a></li></ul></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/layers/engine_layer.html" nav-title="Engine Layer">Engine Layer</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/layers/engine_layer/using_a_different_engine.html" nav-title="Using a Different Engine">Using a Different Engine</a></li></ul></li></ul></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/journal_app.html" nav-title="Journal App">Journal App</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/save_directory.html" nav-title="Save Directory">Save Directory</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/collaboration_&amp;_version_control.html" nav-title="Collaboration &amp; Version Control">Collaboration &amp; Version Control</a></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/quality_of_life.html" nav-title="Quality of Life">Quality of Life</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/frozen_editor_during_playtesting.html" nav-title="Frozen Editor During Playtesting">Frozen Editor During Playtesting</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/closing_the_game.html" nav-title="Closing the Game">Closing the Game</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/debug_mode.html" nav-title="Debug Mode">Debug Mode</a></li><li class="navtree parent"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts.html" nav-title="Supplementary Scripts">Supplementary Scripts</a><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/easier_debug.html" nav-title="Easier Debug">Easier Debug</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/live_map_modification.html" nav-title="Live Map Modification">Live Map Modification</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/noclip.html" nav-title="Noclip">Noclip</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/seeing_collisions.html" nav-title="Seeing Collisions">Seeing Collisions</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/event_labels.html" nav-title="Event Labels">Event Labels</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/other_event's_self_switches.html" nav-title="Other Event's Self Switches">Other Event's Self Switches</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/supplementary_scripts/calling_events.html" nav-title="Calling Events">Calling Events</a></li></ul></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/quality_of_life/editor_version.html" nav-title="Editor Version">Editor Version</a></li></ul></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/distribution.html" nav-title="Distribution">Distribution</a></li><li class="navtree parent"><span class="navtree" nav-title="Resources">Resources</span><ul class="navtree"><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/resources/dialogue_transcript.html" nav-title="Dialogue Transcript">Dialogue Transcript</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/resources/fonts.html" nav-title="Fonts">Fonts</a></li><li class="navtree"><a class="navtree" href="/oneshot-modding-guide/resources/rmxp_extractor.html" nav-title="RMXP Extractor">RMXP Extractor</a></li></ul></li></ul></aside>
		<main id="page_content" class="content">
			<h1 id="page_title">Modifying Scripts</h1>
		<p>The game handles scripts in a slightly different way.
While the editors uses the <code>/Data/Scripts.rxdata</code> file, the game itself reads the <code>/Data/xScripts.rxdata</code> file.
Don’t ask why.</p>
<p>Depending on your approach to scripting, you must take a few steps…</p>
<p>So for the game to load your updated scripts, you must save your changes, delete <code>xScripts.rxdata</code>, make a copy of <code>Scripts.rxdata</code>, and rename it to <code>xScripts.rxdata</code>.</p>
<h2 id="scripting-via-rpg-maker-script-editor">Scripting via RPG Maker Script Editor</h2>
<p>While suboptimal, annoying, and terrible for source control, the setup doesn’t require any additional tools besides RPG Maker.
You can use this method if you don’t intend to delve into scripting too often, like only doing the minor script changes required for some of the <a href="Editor Layer" class="wikilink">Editor Layer</a> parts.</p>
<p>Initially, you will not see the scripts in RPG Maker’s script editor.
Here’s what you must do:</p>
<ul>
<li>Go to the <code>Data</code> folder</li>
<li>Delete <code>Scripts.rxdata</code></li>
<li>Make a copy of <code>xScripts.rxdata</code></li>
<li>Rename the copy to <code>Scripts.rxdata</code></li>
<li>Close the editor if it was open</li>
</ul>
<p>Next time you open the script editor, you’ll see all the scripts.</p>
<p>Now, every modification you make to the scripts <strong>will not automatically apply to the game.</strong>
For the game to see the changes, you must follow these steps <strong>every time you want to apply changes</strong>:</p>
<ul>
<li>Save the project</li>
<li>Go to the <code>Data</code> folder</li>
<li>Delete <code>xScripts.rxdata</code></li>
<li>Make a copy of <code>Scripts.rxdata</code></li>
<li>Rename the copy to <code>xScripts.rxdata</code></li>
<li>Relaunch the game if it was open</li>
</ul>
<p>Next time the game launches, it will have your modified scripts.</p>
<p>You don’t need to worry about packing your scripts with this method.</p>
<h2 id="scripting-the-right-way">Scripting the Right Way</h2>
<p>While more advanced, this setup is one and done, but requires some additional tools and packing the scripts for releases.</p>
<p>Use the <a href="RMXP Extractor" class="wikilink">RMXP Extractor</a> to extract the scripts, which will create the <code>scripts</code> folder with the extracted script files, and a <code>_scripts.txt</code> file.</p>
<p>Then set this as the only RPG Maker script via the editor:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cn">SCRIPTS_ROOT</span> <span class="op">=</span> <span class="st">"scripts"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>list_path <span class="op">=</span> <span class="dt">File</span><span class="at">.join</span>(<span class="cn">SCRIPTS_ROOT</span>, <span class="st">"_scripts.txt"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cn">IO</span><span class="at">.foreach</span>(list_path) <span class="cf">do</span> <span class="op">|</span>name<span class="op">|</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  name<span class="at">.strip!</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">next</span> <span class="cf">if</span> name<span class="at">.empty?</span> <span class="op">||</span> name<span class="at">.start_with?</span>(<span class="st">"#"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">puts</span> <span class="st">"Loading </span><span class="sc">#{</span>name<span class="sc">}</span><span class="st">"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require_relative</span> <span class="st">"</span><span class="sc">#{</span><span class="cn">SCRIPTS_ROOT</span><span class="sc">}</span><span class="st">/</span><span class="sc">#{</span>name<span class="sc">}</span><span class="st">"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code></pre></div>
<p>This will read the <code>_scripts.txt</code> file to determine which files are to load from the <code>scripts</code> folder, and in what order.</p>
<p>Now you can read, modify, and create new scripts with your favorite text editing program, instead of being forced to suffer RPG Maker’s awful script editor.
Just make sure you save your changes and relaunch the game for them to take effect.</p>
<p>Any time you add a new script, you must include it in <code>_scripts.txt</code>, and make sure it loads after its dependencies, but after whatever it’s a dependency for.</p>
</main>
	</div>


</body></html>